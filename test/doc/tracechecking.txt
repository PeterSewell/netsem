Trace Checking
==============

For the benefit of Michael and others who want to look at generated
traces and the output of the trace checker, this is an explanation of
the directory structure and the generated files.


-Trace generation
-Reading the traces
-Trace checking
-Reading trace-checking output


Trace generation
~~~~~~~~~~~~~~~~

Traces are generated by invoking the "run" script in the
Net/TCP/Test/tests/autotest/ directory.  (This is usually done by
Steve, because he knows what he's doing!)  The various OCaml modules
in that directory each describe a batch of tests, usually of a
particular set of rules in the spec.  Autotesting consists of running
through all of these, performing the specified tests and accumulating
the output.  A human-language description of the tests that are done
(and those that aren't done yet) can be found in
Net/TCP/Test/notes/auto-testing.txt.

While tests are being generated, output is placed in
/usr/groups/tthee/batch/temp-autotest-<ISODATE>/.  Once generation is
complete, this is renamed to
/usr/groups/tthee/batch/autotest-<ISODATE>/, and a compressed version
/usr/groups/tthee/batch/autotest-<ISODATE>.tar.bz2 is written.

This directory contains a file "log", which has a log of the output of
the test generator (including information about any tests that failed
to be generated for some reason).

It also contains, for each test, a file "tracennnn", which is the
HOL-readable trace of the test.  There may also be a corresponding
"tracennnn.tmp", in cases where a second real host was used to manage
the "other side" of the test - this is a HOL-readable trace of its
behaviour.  We don't check this latter, as we assume the behaviour has
already been covered in the normal way.



[REST OF FILE DELETED:]

(see TCP/Test/scripts/check/README).



Hopefully this helps explain the setup.  If anything is missing,
please either add it here or ask Keith or Steve.

--KW 8-)

